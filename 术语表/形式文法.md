# 形式文法

在[形式语言理论](./形式语言.md)中，形式文法是形式语言中字符串的一套生成规则，这些规则描述了如何用语言的[字母表](./字母表.md)生成符合语法的有效字符串。形式文法不描述字符串的含义，只描述它们的形式。

形式文法通常被分成四种类型：无限制文法、上下文相关文法、上下文无关文法和正规文法。

形式文法由以下四个部分构成：

1. 有限的**非终结符**集：它们表示在最终生成的字符串中不同类型的短语或子串，与最终生成的字符串无交。
2. 有限的**终结符**集：它们构成了最终生成的字符串的实际内容，由字母表中的字符构成，与**非终结符**集无交。
3. 有限的**产生式规则**集：它们指定了某些字符组合如何被另外一些字符组合替换，前者必须至少包含一个**非终结符**。
4. **开始符号**：用来表示整个最终生成的字符串，它必须是**非终结符**集的元素。

形式文法生成字符串的过程是：先确定形式文法的四个要素，然后从**开始符号**开始，按任意顺序应用**产生式规则**，直到生成既不包含**开始符号**也不包含**非终结符**的字符串。**产生式规则**的应用是把字符串中第一次出现 “产生式规则左边部分” 的部分，替换成 “产生式规则右边的部分”。

百度百科：[形式文法](https://baike.baidu.com/item/形式文法)  
中文维基：[形式文法](https://zh.wikipedia.org/wiki/形式文法)  
英文维基：[Formal grammar](https://en.wikipedia.org/wiki/Formal_grammar)

## 举例说明

### 例子一

假设字母表为 { a b }，非终结符集为 { S }，终结符集为 { a b ba }，开始符号是 S，有以下产生式规则：

1. S -> aSb
2. S -> ba

从开始符号 S 开始，选择规则 1 得到字符串 `aSb`，再次选择规则 1 将其中的 S 替换并得到字符串 `aaSbb`，选择规则 2 将 S 替换为 ba 得到字符串 `aababb`，到此就完成了。这一系列过程可以简短表示为：`S => aSb => aaSbb => aababb`。

### 例子二

再举一个通俗的例子：假设字母表为 { 羊 老 虎 草 水 吃 喝 }，非终结符集为 { 句子 名词 动词 名词 }，终结符集为 { 羊 老虎 草 水 吃 喝 }，开始符号是 “句子”，有以下产生式规则：

1. 句子 -> 名词动词名词
2. 名词 -> 羊
3. 名词 -> 老虎
4. 名词 -> 草
5. 名词 -> 水
6. 动词 -> 吃
7. 动词 -> 喝

从开始符号 “句子” 开始，选择规则 1 得到字符串 `名词动词名词`，选择规则 3 将其中第一个 “名词” 替换为 “老虎” 得到字符串 `老虎动词名词`，再选择规则 7 将其中的 “动词” 替换为 “喝” 得到 `老虎喝名词`，最后选择规则 2 将 “名词” 替换为 “羊” 得到最终的字符串 `老虎喝羊`。简写为 `句子 => 名词动词名词 => 老虎动词名词 => 老虎喝名词 => 老虎喝羊`。

形式文法不描述字符串的含义，只描述它们的形式，所以这里举例的文法可以生成类似 `老虎喝羊` 这样的字符串，当然也可以生其他的比如：`羊吃草`、`草吃老虎`、`老虎喝水` 等等。
